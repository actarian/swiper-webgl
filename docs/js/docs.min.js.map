{"version":3,"sources":["docs/js/docs.js"],"names":["sectionNode","document","querySelector","swiperNode","swiper","Swiper","direction","pagination","navigation","nextEl","prevEl","loop","glslNode","resize","url","callback","request","ri","glsl","GlslCanvas","premultipliedAlpha","preserveDrawingBuffer","backgroundColor","init","W","offsetWidth","H","offsetHeight","style","width","height","console","log","onResize","clearTimeout","setTimeout","on","mix","getTranslate","setUniforms","u_mix","data","load","XMLHttpRequest","open","addEventListener","responseText","send","window","onresize","event","addSwiper"],"mappings":"CAEC,WACG,cAKA,WAEI,IAAIA,EAAcC,SAASC,cAAc,YAErCC,EAAaF,SAASC,cAAc,qBACpCE,EAAS,IAAIC,OAAOF,EAAY,CAChCG,UAAW,aACXC,YAAY,EACZC,WAAY,CACRC,OAAQ,sBACRC,OAAQ,uBAEZC,MAAM,IAYNC,EAAWX,SAASC,cAAc,WAEtCW,GAAO,GAEP,IA0EiBC,EAAKC,EAClBC,EAzCAC,EAlCAC,EAAO,IAAIC,WAAWP,EAAU,CAChCQ,oBAAoB,EACpBC,uBAAuB,EACvBC,gBAAiB,kBAgBrB,SAAST,EAAOU,GACZ,IAAIC,EAAIxB,EAAYyB,YAChBC,EAAI1B,EAAY2B,aACpBf,EAASgB,MAAMC,MAAQL,EAAI,KAC3BZ,EAASgB,MAAME,OAASJ,EAAI,KACxBH,GACAX,EAASiB,MAAQL,EACjBZ,EAASkB,OAASJ,GAElBR,EAAKL,SAETkB,QAAQC,IAAIR,EAAGE,EAAGd,EAASa,YAAab,EAASe,cAMrD,SAASM,IACDhB,GACAiB,aAAajB,GAEjBA,EAAKkB,WAAWtB,EAAQ,IAnC5BK,EAAKkB,GAAG,SAAU,WACd,IAAIC,EAAMjC,EAAOkC,eAAiBnC,EAAWsB,aAAe,EAC5DP,EAAKqB,YAAY,CACbC,MAAOH,MAIfnB,EAAKkB,GAAG,OAAQ,cA8DCtB,EA3DL,qBA2DUC,EA3DY,SAAU0B,GACxCvB,EAAKwB,KAAKD,KA2DVzB,EAAU,IAAI2B,gBACVC,KAAK,MAAO9B,GAAK,GACzBE,EAAQ6B,iBAAiB,OAAQ,WAC7B9B,EAASC,EAAQ8B,gBAErB9B,EAAQ+B,OArCRC,OAAOC,SAAW,SAAUC,GACxBjB,KAGJA,IAeJkB,GAhGJ","file":"docs.min.js","sourcesContent":["/* global window, document, console, GlslCanvas, Swiper */\n\n(function () {\n    'use strict';\n\n    /*--------------------------------------------------\n    Swiper\n    --------------------------------------------------*/\n    function addSwiper() {\n\n        var sectionNode = document.querySelector('.section');\n\n        var swiperNode = document.querySelector('.swiper-container');\n        var swiper = new Swiper(swiperNode, {\n            direction: 'horizontal',\n            pagination: false, // { el: '.swiper-pagination', }\n            navigation: {\n                nextEl: '.swiper-button-next',\n                prevEl: '.swiper-button-prev'\n            },\n            loop: false,\n            // watchSlidesProgress: true,\n        });\n        /*\n        swiper.on('progress', function () {\n            for (var i = 0; i < swiper.slides.length; i++) {\n                var slide = swiper.slides[i];\n                console.log(i, slide.progress);\n            }\n        });\n        */\n\n        var glslNode = document.querySelector('.canvas');\n\n        resize(true);\n\n        var glsl = new GlslCanvas(glslNode, {\n            premultipliedAlpha: false,\n            preserveDrawingBuffer: true,\n            backgroundColor: 'rgba(1,1,1,1)',\n        });\n        glsl.on('render', function () {\n            var mix = swiper.getTranslate() / swiperNode.offsetWidth * -1;\n            glsl.setUniforms({\n                u_mix: mix\n            });\n            // glsl.forceRender = true;\n        });\n        glsl.on('load', function () {\n\n        });\n        getResource(\"shaders/tween.glsl\", function (data) {\n            glsl.load(data);\n        });\n\n        function resize(init) {\n            var W = sectionNode.offsetWidth;\n            var H = sectionNode.offsetHeight;\n            glslNode.style.width = W + 'px';\n            glslNode.style.height = H + 'px';\n            if (init) {\n                glslNode.width = W;\n                glslNode.height = H;\n            } else {\n                glsl.resize();\n            }\n            console.log(W, H, glslNode.offsetWidth, glslNode.offsetHeight);\n        }\n\n\n        var ri;\n\n        function onResize() {\n            if (ri) {\n                clearTimeout(ri);\n            }\n            ri = setTimeout(resize, 50);\n        }\n\n        window.onresize = function (event) {\n            onResize();\n        };\n\n        onResize();\n        /*\n        for (var t in o.textures) {\n            glsl.uniformTexture('u_texture_' + t, o.textures[t], {\n                filtering: 'mipmap',\n                repeat: true,\n            });\n        }\n        gui.load(o.uniforms);\n        glsl.setUniforms(gui.uniforms());\n        */\n\n    }\n\n\n    addSwiper();\n\n    /*\n    function init() {\n        var frag_header = '';\n        getResource(\"shaders/tween.glsl\", function (data) {\n\n        });\n    }\n\n    */\n\n    function getResource(url, callback) {\n        var request = new XMLHttpRequest();\n        request.open('GET', url, true);\n        request.addEventListener('load', function () {\n            callback(request.responseText);\n        });\n        request.send();\n    }\n\n}());"]}